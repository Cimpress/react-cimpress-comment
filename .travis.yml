language: node_js
node_js:
- '8'
dist: trusty
sudo: false
branches:
  except:
    - results
addons:
  chrome: stable
install:
- npm install
script:
- npm run storybook
- sleep 20 && echo "done waiting"
- node_modules/.bin/backstop test
- node_modules/.bin/backstop approve
- npm run-script build
after_script:
- "./push.sh"
deploy:
  provider: npm
  skip_cleanup: true
  email: rafalnowosielski@me.com
  api_key:
    secure: Pgj5f+iQ4foVi69j5LJk5JZk+15bzyTMeWi3GnOinwaR7Uy/JwiyrKb4jkZd9qxvOohYXOQAlyjuKjfQw+osVFipwu6yJeVAZa9ZeXDFnPKC/i9SYxioUxgdTMkzjxNsXlLVmEYBw2C5Je9HaTVRXDjYgrLBIHrBlBm24nFZkO6nEpeaY0EwM/cfS+HM35zIKWobcj8zE1Bn/NMlOvT+omMMicliET53JFQFne7snxMC2qyioQZ2sOozzh9rlNo62poBaYKzthIJKBOOkHwTtqB7Fh0zJchxoKHuPUwOunz+vu5pEYJCRfOf/ep1udhGW9tdRMoAYTC1LlgkMp0E6yjGEtgUnDfPR5F8pbCJj+fF+AgkLU3lWGoD16cr1kLIgd3Yg3LieGRtf0+5QcirXa6PlSRoLUnI6h1cOX23A5LJaQJGeJ3ZKIxmkB2zzWcBvC6IfBDPrg3YWi1z+b6bc+J+reG7hpPzp/VpRLhyhWJtLxkOagHCCkmoH0ljDeaxDRWjiyoUYULu6xRNjJKLkKeRYn7sJutmU99GQvKuF44uxVeOeOpLmDW3gFfQubGBSw7fAABNOkvBtwYvQWb9MNG88dIERIUWX8gubkVEbZtL+DmcNmJBeHGWnm0wLX5xMtTYdaGAG37W/1OG4a/eEIWs+JEjMyq3Is6v6rUq+98=
  on:
    branch: master
notifications:
  slack:
    secure: hcLcEUCHCua4mqVMhP1vXIsxaSJ9/u30xGIswPPg9iNdraL6V0CGbO9AUddP+Wpr+UEOxFhqA8aknZ6U0uDFg3Mi5h/IWerLSbFaJzuQtqoVWQuHFVkO4KgCRZy7Ihsk1U3e/JhsZIndmZ7/sMuN47K1naoEvahcbm7FrH8o7rUIFMrmHsGB7yIXtdbVcJINC8Ii5EN95ncGE3zOwVOBd5XMq8RYvxQWDEoyHxewJ3pkYW88Gss9Zjvs3SlOs3cq4jZyaB75DSHIZ1eeZ0A25/RANBdNH8BJcjtg4bMXk6KdG1t/9sn+KuHBU2EOwCIdRCzuuh2JXDA0wXh6oB7HDL484Kgq/rV/slEAVQXULMU/08txtZuf6DFDkVAB2E94SjzIWYUiOgzmbjEDbxs5SyuUJLu3Ciqua3Zpg2nDRQ4mvsOsAKW8CZxOapnM+29LlbNA4H0cfSrajLPwSt9LeWilFvoFvJ9KqfIzYDSxdoZFCMGfTOW9rlPL3zRWRYmn1rlQdCAoh751+wfvIXN5uU9sLWFBGt2jWqor0Lg4XtvFVGWCLtzfI0zh8aaBGihIVtsTCKeIC5mtFj6d83W+T4+WuV4niHnp2Xch9fVMLWThl+XuIDYRhG6cSrN8wmOZR+w6XJELBuzPhJ1qNGKxHJ9J5kgN5f04EUmTCvDmSVg=
env:
  global:
    secure: R4sbWJmvaFSvehd0bjDtL7v5PrYLWqDdI2UVdjFlI/1ruAktJWbJ6fP42FF3vM9wJ5asQvmGAIxFkS+sl5N4AnLUxifIMvl4WpSY01oTCY5hmj/wHmYXeVKCHnx7lWwm0mHSeV0MWBbgS7AlFnhTD5fb6L9kbGKmVU8Q6vZk/ADHysWp6xXZ1D+uR+cmVbkhyPlgBlMNbFzMMjyVvbBBq3N5FK97Y7XuIC0V+VUlW+WoIu5IL5AnVVfq068w29XQeFOc7vPDP47Z9pYnH62PIu+oHzM4E0acZwideeANo7/0I6DQHtWrRoJj9b6K4j0QLTmZNjmyl2YjU241qcj2+wOzZrBZNgCbBW6io2Khf3kKMVEVhiWJ1Y7XG0mNXNv56KFazdXAa5qCDM4O9j0WX6Vg08mv3cVO1HHAKM9mo+NgYrUZaEYY4zvFrjP5BGY1rcfwq2yamf+DJXaQc9vZpktIYK8S6P5P/0o7IVVzLlN8Nf8p04OSCTO8KYmwaAta0CU4/W9JXHqOvJPmkYpjod47U6C82/0BA5sCw8GbTC2PDZRWA0Vss0QeiEGeRyoxBmxGkOFljCd7ix4a3cY+GGvRSj2sLRTzW8bHsvO60dKYiPoCdvUz8Gqvp33MgWvtsjyr+3d1rA6NYUlrlYWKtymQmpyyGX69VsEZAQ3IP58=
